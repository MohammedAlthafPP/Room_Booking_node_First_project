<link rel="stylesheet" href="/stylesheets/optpage.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-alpha1/dist/css/bootstrap.min.css">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<div class="d-flex justify-content-center align-items-center container">
    <div class="card py-5 px-3 " style="height:max-content;">
        <h6 class="text-danger">{{ErrMsg}}</h6>
        <form action="/reset" method="post" id="resetpassword_id">
            <h5 class="m-0">Reset user password</h5><span class="mobile-text">Enter Your password<b
                    class="text-danger">{{this.email}}</b></span>

            <div class=" flex-row mt-3"><input type="password" name="password" class="form-control" autofocus=""
                    id="showpasswor"></div>
            <label for="confirm password">password</label>
            <div class=" flex-row mt-3"><input type="password" name="confirmpassword" class="form-control" autofocus="">
            </div>
            <label for="confirm password">confirm password</label>
            <div class="text-center mt-3"><span class="d-block mobile-text"></span><span
                    class="font-weight-bold text-danger cursor"></span></div>
            <div class="form-check d-flex justify-content-left mb-5 ms-3">
                <input class="form-check-input me-2" type="checkbox" value="" id="" onclick="myFunction()" />
                <label class="form-check-label " for="form2Example3">
                    Show Password
                </label>
            </div>
            <button class="btn btn-primary" type="submit">Submit</button>
        </form>
    </div>
</div>









{{!-- ========================================= signup Validation ================================================= --}}

<script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
    crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.3/jquery.validate.min.js"></script>


<script>

    $(document).ready(function () {
        $("#resetpassword_id").validate({
            errorClass: "Errors",
            rules: {


                password: {
                    required: true,
                    minlength: 5,
                    strongePassword: true

                },
                confirmpassword: {
                    required: true,
                    equalTo: "#showpasswor"
                }
            },
            messages: {

                confirmpassword: {
                    required: "confirm Your password",
                    equalTo: "Password doesn't matches"
                }
            }
        })

        $.validator.addMethod("strongePassword", function (value, element) {
            return /^[A-Za-z0-9\d=!\-@._*]*$/.test(value) && /[a-z]/.test(value) && /\d/.test(value) && /[A-Z]/.test(value);
        },
            "The password must contain at least 1 number,1 lower case letter, and 1 upper case letter"
        );


    })



</script>







<style>
    .Errors {
        color: red;

    }
</style>


<script>
    function myFunction() {
        var x = document.getElementById("showpasswor");
        if (x.type === "password") {
            x.type = "text";
        } else {
            x.type = "password";
        }
    }
</script>